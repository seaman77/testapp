{"version":3,"sources":["uni-app:///main.js","webpack:///E:/Share/CoreShop/CoreCms.Net.Uni-App/CoreShop/pages/activity/groupBuying/details/details.vue?9aa9","webpack:///E:/Share/CoreShop/CoreCms.Net.Uni-App/CoreShop/pages/activity/groupBuying/details/details.vue?773d","webpack:///E:/Share/CoreShop/CoreCms.Net.Uni-App/CoreShop/pages/activity/groupBuying/details/details.vue?cca6","webpack:///E:/Share/CoreShop/CoreCms.Net.Uni-App/CoreShop/pages/activity/groupBuying/details/details.vue?9dbf","uni-app:///pages/activity/groupBuying/details/details.vue","webpack:///E:/Share/CoreShop/CoreCms.Net.Uni-App/CoreShop/pages/activity/groupBuying/details/details.vue?1d5c","webpack:///E:/Share/CoreShop/CoreCms.Net.Uni-App/CoreShop/pages/activity/groupBuying/details/details.vue?1713"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","mixins","components","coreshopFab","coreshopNavbarSlot","spec","shareByWx","data","background","backgroundColor","customStyle","width","borderColor","bannerCur","current","goodsId","groupId","goodsInfo","cartNums","product","goodsParams","goodsComments","shopRecommendData","otherRecommendData","buyNum","minBuyNum","type","cartType","isfav","swiperSet","indicatorDots","autoplay","interval","duration","groupHeight","bottomModal","modalTitle","modalType","selectType","shareUrl","shareBox","serviceDescription","commonQuestion","delivery","service","onLoad","title","back","computed","hasLogin","userInfo","get","set","shopName","shareTitle","shopLogo","shopMobile","minNums","isSpes","promotion","arr","typeName","shareHref","defaultSpesDesc","methods","bannerSwiper","getServiceDescription","console","_this","getGoodsInfo","id","getGoodsRecommendList","getCartNums","changeSpes","uni","setTimeout","spesClassHandle","spes","products","bindChange","collection","getGoodsParams","getGoodsComments","page","limit","_list","goodsBrowsing","clickHandle","buyNow","ProductId","Nums","objectId","redirectCart","url","trigger","goShare","closeShare","clickImg","urls","showChat","getShareUrl","client","params","serviceTap","promotionTap","selectTap","showModal","hideModal","watch","handler","deep","onShareAppMessage","imageUrl","path","onShareTimeline"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AAC2D;AACL;AACsC;;;AAG5F;AAC4K;AAC5K,gBAAgB,6KAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,aAAa,yNAEN;AACP,KAAK;AACL;AACA,aAAa,2OAEN;AACP,KAAK;AACL;AACA,aAAa,uMAEN;AACP,KAAK;AACL;AACA,aAAa,iMAEN;AACP,KAAK;AACL;AACA,aAAa,wMAEN;AACP,KAAK;AACL;AACA,aAAa,mQAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,aAAa,8MAEN;AACP,KAAK;AACL;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,uMAEN;AACP,KAAK;AACL;AACA,aAAa,qOAEN;AACP,KAAK;AACL;AACA,aAAa,qOAEN;AACP,KAAK;AACL;AACA,aAAa,2OAEN;AACP,KAAK;AACL;AACA,aAAa,8MAEN;AACP,KAAK;AACL;AACA,aAAa,iNAEN;AACP,KAAK;AACL;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1JA;AAAA;AAAA;AAAA;AAAipB,CAAgB,inBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACoWrqB;AAEA;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAIA;EACAC;EACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;QACAC;MACA;MACAC;QACAC;QACAC;QACAH;MACA;MACAI;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MAAA;MACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAC;IACA;IACA;IACA;MACA;MACA;MACA;MACA;IACA;MACA;QAAAC;QAAApB;QAAAqB;MAAA;IACA;IACA;IACA;IACA;IACA;EACA;EACAC,0CACA;IACAC;MAAA;IAAA;IACAC;MAAA;IAAA;EACA;IACAD;MACAE;QACA;MACA;MACAC;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;QACA;UACA;QACA;UACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;UACAC;QACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;EAAA,EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;MACA;QACAC;QACA;UACAC;UACAA;UACAA;QAEA;UACAA;YAAAtB;YAAApB;YAAAqB;UAAA;QACA;MACA;IACA;IACAsB;MACA;QACAC;QACAtD;MACA;MACA;MACA;MACA;QACAT;MACA;MACA;MACA;QACA;UACA;YACA6D;cAAAtB;cAAApB;cAAAqB;YAAA;UACA;YACAqB;cAAAtB;cAAApB;cAAAqB;YAAA;UACA;YACA;YACA;YAEAqB;YACAA;YACAA;YACAA;YAEAA;;YAEA;YACA;cACAA;YACA;UACA;QACA;MACA;IACA;IACA;IACAG;MACA;MACA;QACAD;QACA/D;MACA;MACA6D;QACA;UACAA;QACA;UACAA;QACA;MACA;MAEA;QACAE;MACA;MACAF;QACA;UACAA;QACA;UACAA;QACA;MACA;IACA;IAGA;IACAI;MAAA;MACA;MACA;QACA;QACA;UACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;MACA;MACA;QACA;UACAH;UACA5C;UAAA;UACAV;QACA;QACA;QACA;UACAT;QACA;QACA;UACA;YACA;YACA;YACA;UACA;QACA;QACAmE;UACA5B;QACA;QACA6B;UACAD;QACA;MACA;IACA;IACA;IACAE;MACA;MACA;QACA;QACA;UACA;YACA;cACA;YACA;cACA;YACA;cACA;YACA;UACA;QACA;QACAC;QACAC;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MAAA;MACA;QACAV;MACA;MACA;QACA;UACA;UACA;YAAAxB;YAAApB;YAAAqB;UAAA;QACA;UACA;QACA;MACA;IACA;IACA;IACAkC;MAAA;MACA,wBACA;QACAX;MACA;QACA;UACA;QACA;MACA,EACA;IACA;IACA;IACAY;MAAA;MACA;QACAC;QACAC;QACAd;MACA;MACA;QACA;UACA;UACA;UACAe;YACA;cACA;YACA;UACA;UACA;QACA;UACAlB;UACA;QACA;MACA;IACA;IACA;IACAmB;MACA;QACAhB;MACA;MACA;IACA;IACA;IACAiB;MACA;QACA;QACA;MACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;UACAC;UACAC;UACAhE;UACAC;UACAgE;QACA;QACA;UACA;YACA;YACA;YACA;UAEA;YACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;QACAlE;QACAmE;MACA;IACA;IACAC;MACA;MACA;QACApE;QACAmE;MACA;IACA;IACA;IACAE;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACAvB;QACAwB;MACA;IACA;IACA;IACAC,+BACA;IACA;IACAC;MAAA;MACA;QACAC;QACAR;QACAnE;QACAyD;QACAmB;UACAvF;UACAC;QACA;MACA;MACA;MACA;QACAT;MACA;MACA;QACA;MACA;IACA;IACAgG;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;EACA;EACAC;IACA7F;MACA8F;QACA;MACA;MACAC;IACA;EACA;EACA;EACAC;IACA;MACAjE;MACAkE;MACAC;IACA;EACA;EACAC;IACA;MACApE;MACAkE;MACAC;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACj0BA;AAAA;AAAA;AAAA;AAAwvC,CAAgB,wnCAAG,EAAC,C;;;;;;;;;;;ACA5wC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/activity/groupBuying/details/details.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/activity/groupBuying/details/details.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./details.vue?vue&type=template&id=5a57ea4c&scoped=true&\"\nvar renderjs\nimport script from \"./details.vue?vue&type=script&lang=js&\"\nexport * from \"./details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./details.vue?vue&type=style&index=0&id=5a57ea4c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a57ea4c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/activity/groupBuying/details/details.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./details.vue?vue&type=template&id=5a57ea4c&scoped=true&\"","var components\ntry {\n  components = {\n    uToast: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-toast/u-toast\" */ \"@/uview-ui/components/u-toast/u-toast.vue\"\n      )\n    },\n    uNoNetwork: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-no-network/u-no-network\" */ \"@/uview-ui/components/u-no-network/u-no-network.vue\"\n      )\n    },\n    uNavbar: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-navbar/u-navbar\" */ \"@/uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uImage: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-image/u-image\" */ \"@/uview-ui/components/u-image/u-image.vue\"\n      )\n    },\n    uLoading: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-loading/u-loading\" */ \"@/uview-ui/components/u-loading/u-loading.vue\"\n      )\n    },\n    uCountDown: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-count-down/u-count-down\" */ \"@/uview-ui/components/u-count-down/u-count-down.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uTag: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-tag/u-tag\" */ \"@/uview-ui/components/u-tag/u-tag.vue\"\n      )\n    },\n    uRate: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-rate/u-rate\" */ \"@/uview-ui/components/u-rate/u-rate.vue\"\n      )\n    },\n    uParse: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-parse/u-parse\" */ \"@/uview-ui/components/u-parse/u-parse.vue\"\n      )\n    },\n    uEmpty: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-empty/u-empty\" */ \"@/uview-ui/components/u-empty/u-empty.vue\"\n      )\n    },\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-popup/u-popup\" */ \"@/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uAvatar: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-avatar/u-avatar\" */ \"@/uview-ui/components/u-avatar/u-avatar.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uGrid: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-grid/u-grid\" */ \"@/uview-ui/components/u-grid/u-grid.vue\"\n      )\n    },\n    uGridItem: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-grid-item/u-grid-item\" */ \"@/uview-ui/components/u-grid-item/u-grid-item.vue\"\n      )\n    },\n    uLazyLoad: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-lazy-load/u-lazy-load\" */ \"@/uview-ui/components/u-lazy-load/u-lazy-load.vue\"\n      )\n    },\n    uNumberBox: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-number-box/u-number-box\" */ \"@/uview-ui/components/u-number-box/u-number-box.vue\"\n      )\n    },\n    uBadge: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-badge/u-badge\" */ \"@/uview-ui/components/u-badge/u-badge.vue\"\n      )\n    },\n    coreshopFab: function () {\n      return import(\n        /* webpackChunkName: \"components/coreshop-fab/coreshop-fab\" */ \"@/components/coreshop-fab/coreshop-fab.vue\"\n      )\n    },\n    coreshopLoginModal: function () {\n      return import(\n        /* webpackChunkName: \"components/coreshop-login-modal/coreshop-login-modal\" */ \"@/components/coreshop-login-modal/coreshop-login-modal.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.goodsInfo.album.length\n  var g1 = _vm.serviceDescription.service.length\n  var g2 = _vm.serviceDescription.delivery.length\n  var g3 = g2 > 0 ? _vm.serviceDescription.delivery.length : null\n  var g4 = _vm.goodsComments.length\n  var g5 = g4 ? _vm.goodsComments.length : null\n  var g6 = _vm.otherRecommendData.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        g3: g3,\n        g4: g4,\n        g5: g5,\n        g6: g6,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./details.vue?vue&type=script&lang=js&\"","<template>\r\n    <view>\r\n        <u-toast ref=\"uToast\" /><u-no-network></u-no-network>\r\n        <u-navbar :is-back=\"false\" :background=\"background\" title=\"团购详情\" title-color=\"#fff\">\r\n            <coreshopNavbarSlot titleColor=\"#fff\" backgroundColor=\"#f37b1d\" leftIconColor=\"#fff\" :leftIconSize=\"33\"></coreshopNavbarSlot>\r\n        </u-navbar>\r\n        <!--幻灯片-->\r\n        <view class=\"coreshop-full-screen-banner-swiper-box\">\r\n            <swiper class=\"screen-swiper\" circular autoplay @change=\"bannerSwiper\">\r\n                <swiper-item v-for=\"(item,index) in goodsInfo.album\" :key=\"index\" @click=\"clickImg(item)\">\r\n                    <u-image width=\"100%\" height=\"750rpx\" :src=\"item\">\r\n                        <u-loading slot=\"loading\"></u-loading>\r\n                    </u-image>\r\n                </swiper-item>\r\n            </swiper>\r\n            <!--页码-->\r\n            <text class=\"coreshop-bg-grey tag round coreshop-page\">{{bannerCur + 1}} / {{goodsInfo.album.length}}</text>\r\n        </view>\r\n\r\n        <!--限时秒杀-->\r\n        <view class=\"coreshop-limited-seckill-box coreshop-bg-orange\">\r\n            <text class=\"coreshop-text-price u-font-40\">{{ product.price || '0.00' }}</text>\r\n            <view class=\"u-font-xs coreshop-cost-price-num price-4\">\r\n                <view>已售{{ goodsInfo.buyCount || '0' }}件/剩余{{ product.stock || '0' }}件</view>\r\n                <view>累计销售{{ goodsInfo.buyCount || '0' }}件</view>\r\n            </view>\r\n            <view class=\"u-text-right coreshop-time-right\">\r\n                <view>距结束仅剩</view>\r\n                <view class=\"u-font-xs u-margin-top-10\">\r\n                    <u-count-down :timestamp=\"goodsInfo.groupTimestamp\" separator=\"zh\" :show-days=\"true\" :show-hours=\"true\" :show-minutes=\"true\" :show-seconds=\"true\" font-size=\"24\" separator-size=\"24\"></u-count-down>\r\n                </view>\r\n            </view>\r\n            <view class=\"u-text-right coreshop-share-right\">\r\n                <u-icon name=\"share\" @click=\"goShare()\" label=\"分享\" size=\"40\" label-size=\"22\" label-color=\"#fff\" label-pos=\"bottom\"></u-icon>\r\n            </view>\r\n        </view>\r\n\r\n\r\n        <!--标题-->\r\n        <view class=\"coreshop-bg-white coreshop-common-view-box coreshop-good-title-view-box\">\r\n            <view class=\"title-view\">\r\n                <u-tag :text=\"goodsInfo.brand.name\" type=\"error\"  mode=\"dark\" v-if=\"goodsInfo.brand\" size=\"mini\"/>\r\n                <text class=\"coreshop-text-black u-font-lg coreshop-text-bold\">{{ goodsInfo.name || '' }}</text>\r\n            </view>\r\n            <view class=\"light coreshop-bg-orange radius u-margin-top-20 coreshop-title-tip-box\">\r\n                <text class=\"u-font-sm\">{{ goodsInfo.brief || '' }}</text>\r\n            </view>\r\n        </view>\r\n\r\n         <!--服务-->\r\n        <view class=\"u-margin-top-20 coreshop-bg-white coreshop-common-view-box\" @tap=\"serviceTap\" v-if=\"serviceDescription.service.length>0\">\r\n            <view class=\"coreshop-flex coreshop-flex-wrap u-font-sm\">\r\n                <view class=\"coreshop-basis-1\">\r\n                    <text class=\"coreshop-text-gray\">服务</text>\r\n                </view>\r\n                <view class=\"coreshop-basis-7\">\r\n                    <view class=\"tag-view-box\">\r\n                        <u-icon name=\"checkmark-circle\" size=\"20\" label-size=\"24\" color=\"#e54d42\" :label=\"item.title\"  v-for=\"(item, index) in serviceDescription.service\" :key=\"index\" class=\"u-margin-right-10\"></u-icon>\r\n                    </view>\r\n                </view>\r\n                <view class=\"coreshop-basis-2\">\r\n                    <view class=\"coreshop-text-gray u-text-right coreshop-justify-end\">\r\n                        <u-icon name=\"arrow-right-double\"></u-icon>\r\n                    </view>\r\n                </view>\r\n            </view>\r\n        </view>\r\n\r\n        <!--发货/规格-->\r\n        <view class=\"u-margin-top-20 coreshop-bg-white coreshop-common-view-box\" v-if=\"serviceDescription.delivery.length>0\">\r\n            <view class=\"coreshop-flex coreshop-flex-wrap u-font-sm\">\r\n                <view class=\"coreshop-basis-1\">\r\n                    <text class=\"coreshop-text-gray\">发货</text>\r\n                </view>\r\n                <view class=\"coreshop-coreshop-basis-9\" v-for=\"(item, index) in serviceDescription.delivery\" :key=\"index\">\r\n                    <text class=\"u-font-sm\">{{item.description}}</text>\r\n                </view>\r\n            </view>\r\n            <view class=\"coreshop-solid-bottom u-margin-top-20 u-margin-bottom-20\" v-if=\"serviceDescription.delivery.length>0\" />\r\n            <view class=\"coreshop-flex coreshop-flex-wrap u-font-sm u-padding-top-20\" @tap=\"selectTap(0)\" v-if=\"isSpes\">\r\n                <view class=\"coreshop-basis-1\">\r\n                    <text class=\"coreshop-text-gray\">规格</text>\r\n                </view>\r\n                <view class=\"coreshop-basis-8\">\r\n                    <text class=\"u-font-sm\">{{ product.spesDesc || ''}}</text>\r\n                </view>\r\n                <view class=\"coreshop-basis-1\">\r\n                    <view class=\"coreshop-text-gray u-text-right coreshop-justify-end\">\r\n                        <u-icon name=\"arrow-right-double\"></u-icon>\r\n                    </view>\r\n                </view>\r\n            </view>\r\n        </view>\r\n\r\n        <!--评论-->\r\n        <view class=\"u-margin-top-20 coreshop-bg-white  u-padding-left-20 u-padding-right-20 u-padding-bottom-20\" v-if=\"goodsComments.length\">\r\n            <view class=\"coreshop-flex coreshop-flex-wrap u-font-sm u-padding-top-20\">\r\n                <view class=\"coreshop-basis-2\">\r\n                    <text class=\"coreshop-text-black u-font-md\">评价（{{goodsComments.length}}）</text>\r\n                </view>\r\n                <view class=\"coreshop-basis-7\"></view>\r\n                <view class=\"coreshop-basis-1\">\r\n                    <view class=\"coreshop-text-gray u-text-right coreshop-justify-end\">\r\n                        <u-icon name=\"arrow-right\"  @tap=\"goGoodComments(goodsInfo.id)\"></u-icon>\r\n                    </view>\r\n                </view>\r\n            </view>\r\n            <view v-for=\"(item, index) in goodsComments\" :key=\"index\">\r\n                <view class=\"coreshop-solid-bottom u-margin-top-20 u-margin-bottom-20\" />\r\n                <view class=\"coreshop-flex coreshop-flex-wrap u-font-sm u-padding-20\">\r\n                    <view class=\"coreshop-basis-1\">\r\n                        <view class=\"coreshop-avatar sm round\" :style=\"[{backgroundImage:'url('+ item.avatarImage +')'}]\" />\r\n                    </view>\r\n                    <view class=\"coreshop-basis-9 u-font-sm\">\r\n                        <view>{{ (item.nickName && item.nickName != '')?item.nickName:item.mobile }}</view>\r\n                        <view class=\"u-margin-top-20\">{{ item.contentBody || ''}}</view>\r\n                        <view class=\"coreshop-text-gray u-margin-top-10\">\r\n                            <u-rate :current=\"item.score\" :disabled=\"true\" size=\"26\"></u-rate>\r\n                        </view>\r\n                        <view class=\"coreshop-text-gray u-margin-top-10\">{{ item.createTime || ''}} {{ item.addon || ''}}</view>\r\n                    </view>\r\n                </view>\r\n            </view>\r\n        </view>\r\n\r\n        <!--内容区-->\r\n        <view class=\"u-margin-top-20 u-padding-top-10 coreshop-bg-white\">\r\n            <view class=\"u-font-md u-padding-top-10 u-padding-bottom-10 u-padding-left-20 u-padding-right-10\">\r\n                <u-icon name=\"more-circle\" color=\"#e54d42\"></u-icon>\r\n                <text class=\"u-margin-left-10 coreshop-text-black\">商品详情</text>\r\n            </view>\r\n            <!--参数-->\r\n            <view class=\"grid col-2\">\r\n                <view class=\"col-item\" v-for=\"(item, index) in goodsParams\" :key=\"index\">\r\n                    <text class=\"coreshop-text-gray\">{{ item.name || ''}}：</text>\r\n                    <text class=\"coreshop-text-black\">{{ item.value || ''}}</text>\r\n                </view>\r\n            </view>\r\n            <view class=\"u-padding-top-10\">\r\n                <u-parse :html=\"goodsInfo.intro\" :selectable=\"true\" v-if=\"goodsInfo.intro\"></u-parse>\r\n                <!-- 无数据时默认显示 -->\r\n                <view class=\"coreshop-emptybox\" v-else>\r\n                    <u-empty :src=\"$globalConstVars.apiFilesUrl+'/static/images/empty/data.png'\" icon-size=\"300\" text=\"详情为空\" mode=\"list\"></u-empty>\r\n                </view>\r\n            </view>\r\n        </view>\r\n\r\n        <!-- 分享弹窗 -->\r\n        <view class=\"u-padding-10\">\r\n            <u-popup  mode=\"bottom\" v-model=\"shareBox\" ref=\"share\">\r\n                <shareByWx :goodsId=\"goodsInfo.id\" :shareImg=\"goodsInfo.image\" :shareTitle=\"goodsInfo.name\" :shareContent=\"goodsInfo.brief\" :shareHref=\"shareHref\" @close=\"closeShare()\"></shareByWx>\r\n            </u-popup>\r\n        </view>\r\n\r\n        <!--常见问题-->\r\n        <view class=\"u-margin-top-20 coreshop-bg-white u-margin-bottom-30 coreshop-common-view-box\">\r\n            <view class=\"u-font-md u-padding-bottom-20\">\r\n                <u-icon name=\"question-circle\" color=\"#e54d42\"></u-icon>\r\n                <text class=\"u-margin-left-10 coreshop-text-black\">常见说明</text>\r\n            </view>\r\n\r\n            <view class=\"coreshop-flex coreshop-flex-wrap u-margin-bottom-20\" v-for=\"(item, index) in serviceDescription.commonQuestion\" :key=\"index\">\r\n                <view class=\"coreshop-basis-2\">\r\n                    <u-tag :text=\"item.title\" type=\"info\" size=\"mini\" />\r\n                </view>\r\n                <view class=\"coreshop-basis-8\">\r\n                    <view class=\"u-font-sm\">{{item.description}}</view>\r\n                </view>\r\n            </view>\r\n\r\n            <view class=\"coreshop-solid-bottom u-margin-top-20 u-margin-bottom-20\" />\r\n            <view class=\"u-text-center coreshop-text-blue  u-padding-top-20\" @tap=\"goArticleList()\">查看更多问题</view>\r\n        </view>\r\n        \r\n        <!--商家及推荐-->\r\n        <view class=\"u-margin-top-20 coreshop-bg-white coreshop-common-view-box coreshop-goods-shop-info-view-box\">\r\n            <view class=\"coreshop-shop-view\">\r\n                <view class=\"u-absolute\">\r\n                     <u-avatar :src=\"shopLogo\"></u-avatar>\r\n                </view>\r\n                <view class=\"u-margin-left-20 u-padding-left-80 u-padding-right-80\">\r\n                    <view class=\"u-margin-bottom-10\">{{shopName}}</view>\r\n                    <view class=\"u-font-sm u-line-1\">{{shareTitle}}</view>\r\n                </view>\r\n                <u-button type=\"error\" size=\"mini\" :plain=\"true\" @click=\"doPhoneCall\">联系商家</u-button>\r\n            </view>\r\n            <view class=\"coreshop-solid-bottom u-padding-top-10 u-padding-bottom-20\" />\r\n            <view class=\"live-tag-view u-margin-top-20 u-margin-bottom-20\">\r\n                <view class=\"text-view\">\r\n                    <u-tag text=\"已定位\" mode=\"plain\" size=\"mini\" type=\"warning\" />\r\n                    <text class=\"u-margin-left-10 u-line-1\">可直接获取商家地理位置信息</text>\r\n                </view>\r\n                <view class=\"u-font-sm coreshop-text-red go-map-box\" @tap=\"goShopMap\">\r\n                    <text class=\"u-margin-right-10\">去地图</text>\r\n                    <u-icon name=\"arrow-right\"></u-icon>\r\n                </view>\r\n            </view>\r\n            <view class=\"coreshop-solid-bottom u-margin-top-20 u-margin-bottom-20\" />\r\n            <view class=\"coreshop-good-shop-recommend-list-box\">\r\n                <view class=\"u-font-sm u-padding-top-20 \">本店推荐</view>\r\n                <!--滑动列表-->\r\n                <view class=\"recommend-scroll-box\">\r\n                    <scroll-view class=\"recommend-scroll\" scroll-x>\r\n                        <block v-for=\"(items,indexs) in shopRecommendData\" :key=\"indexs\">\r\n                            <view :id=\"['scroll' + (indexs + 1 )]\" class=\"recommend-scroll-item\" @tap=\"goGoodsDetail(items.id)\">\r\n                                <view class=\"coreshop-avatar xl radius\" :style=\"[{backgroundImage:'url('+ items.image +')'}]\" />\r\n                                <view class=\"u-line-1-2 u-font-sm coreshop-text-black u-margin-top-20 u-margin-bottom-20 u-line-2\" style=\"height: 64rpx;\">{{items.name}}</view>\r\n                                <view class=\"coreshop-text-red coreshop-text-price u-margin-top-20 u-margin-bottom-20 u-font-md\">\r\n                                    {{items.price}}元\r\n                                </view>\r\n                            </view>\r\n                        </block>\r\n                    </scroll-view>\r\n                </view>\r\n            </view>\r\n        </view>\r\n        \r\n         <!--为您推荐-->\r\n        <view class=\"coreshop-recommended-title-view\">\r\n            <view class=\"u-flex u-flex-wrap\">\r\n                <view class=\"u-flex-4 u-text-right\">\r\n                    <image class=\"img-anc\" src=\"/static/images/common/anc.png\" mode=\"widthFix\" />\r\n                </view>\r\n                <view class=\"u-flex-4 u-text-center\">\r\n                    <text class=\"coreshop-text-black u-font-lg\">为您推荐</text>\r\n                </view>\r\n                <view class=\"u-flex-4 u-text-left\">\r\n                    <image class=\"img-anc\" src=\"/static/images/common/anc.png\" mode=\"widthFix\" />\r\n                </view>\r\n            </view>\r\n        </view>\r\n\r\n         <!--推荐列表-->\r\n        <view class=\"coreshop-goods-group\" v-if=\"otherRecommendData.length>0\">\r\n            <u-grid col=\"2\" :border=\"false\" :align=\"center\">\r\n                <u-grid-item bg-color=\"transparent\" :custom-style=\"{padding: '0rpx'}\" v-for=\"(item, index) in otherRecommendData\" :key=\"index\" @click=\"goGoodsDetail(item.id)\">\r\n                    <view class=\"good_box\">\r\n                        <!-- 警告：微信小程序中需要hx2.8.11版本才支持在template中结合其他组件，比如下方的lazy-load组件 -->\r\n                        <u-lazy-load threshold=\"-150\" border-radius=\"10\" :image=\"item.image\" :index=\"index\"></u-lazy-load>\r\n                        <view class=\"good_title u-line-2\">\r\n                            {{item.name}}\r\n                        </view>\r\n                        <view class=\"good-price\">\r\n                            {{item.price}}元 <span class=\"u-font-xs  coreshop-text-through u-margin-left-15 coreshop-text-gray\">{{item.mktprice}}元</span>\r\n                        </view>\r\n                        <view class=\"good-tag-recommend\" v-if=\"item.isRecommend\">\r\n                            推荐\r\n                        </view>\r\n                        <view class=\"good-tag-hot\" v-if=\"item.isHot\">\r\n                            热门\r\n                        </view>\r\n                    </view>\r\n                </u-grid-item>\r\n            </u-grid>\r\n        </view>\r\n\r\n\r\n        <u-popup class=\"coreshop-bottom-popup-box\"  v-model=\"bottomModal\" mode=\"bottom\" height=\"60%\">\r\n            <view class=\"radius coreshop-bg-white\">\r\n                <!--标题-->\r\n                <view class=\"coreshop-text-black u-text-center u-margin-top-30 u-margin-bottom-30 u-font-lg coreshop-title-bar\">\r\n                    <text>{{modalTitle}}</text>\r\n                    <u-icon name=\"close\"  @tap=\"hideModal\" class=\"close-icon\"></u-icon>\r\n                </view>\r\n                <!--内容区域-->\r\n                <view class=\"coreshop-modal-content\">\r\n                    <!--服务区域-->\r\n                    <view class=\"coreshop-common-view-box service\" v-if=\"modalType=='service'\">\r\n                        <view v-for=\"(item, index) in serviceDescription.service\" :key=\"index\">\r\n                            <view class=\"text-view\">\r\n                                <u-icon name=\"more-circle\" color=\"#e54d42\" :label=\"item.title\"></u-icon>\r\n                            </view>\r\n                            <view class=\"u-font-sm text-list-view\">\r\n                                <view class=\"u-margin-left-20 coreshop-text-gray\">{{item.description}}</view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n\r\n                    <!--促销区域-->\r\n                    <view class=\"coreshop-common-view-box promotion\" v-if=\"modalType=='promotion'\">\r\n                        <view class=\"text-view\" v-for=\"(item, index) in promotion\" :key=\"index\">\r\n                            <text class=\"cu-tag line-orange radius sm\">{{item.name}}</text>\r\n                            <text class=\"u-margin-left-20 u-line-5 coreshop-text-black\">{{item.name}}</text>\r\n                        </view>\r\n                    </view>\r\n\r\n                    <!--选择规格-->\r\n                    <view class=\"coreshop-common-view-box select hide\" :class=\"modalType=='select' ?'show':''\">\r\n                        <!--商品信息-->\r\n                        <view class=\"coreshop-list menu-avatar\">\r\n                            <view class=\"coreshop-list-item\">\r\n                                <view class=\"coreshop-avatar radius lg\" :style=\"[{backgroundImage:'url('+ product.images +')'}] \" />\r\n                                <view class=\"content\">\r\n                                    <view class=\"coreshop-text-price-view\">\r\n                                        <text class=\"coreshop-text-price coreshop-text-red u-margin-right-20\">{{ product.price || ''}}</text>\r\n                                        <text class=\"u-font-sm coreshop-text-gray coreshop-text-through u-margin-right-20\">￥{{ product.mktprice || ''}}</text>\r\n                                        <u-tag text=\"秒杀中\" mode=\"plain\" type=\"error\" shape=\"circle\" size=\"mini\"/>\r\n                                    </view>\r\n                                    <view class=\"coreshop-text-black u-font-sm flex\">\r\n                                        <view class=\"u-line-1\">已选: {{ product.spesDesc || '无'}}</view>\r\n                                    </view>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                        <!--规格数据-->\r\n                        <view class=\"coreshop-select-btn-list-box\">\r\n                            <spec :spesData=\"defaultSpesDesc\" ref=\"spec\" @changeSpes=\"changeSpes\"></spec>\r\n                            <view class=\"select-item\">\r\n                                <view class=\"coreshop-text-black\">数量</view>\r\n                                <view class=\"select-btn\">\r\n                                    <u-number-box v-model=\"buyNum\" :min=\"minNums\" :max=\"product.stock\"></u-number-box>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n\r\n                    <!--公共按钮-->\r\n                    <view class=\"u-padding-30 u-text-center\" v-if=\"modalType=='select'\">\r\n                        <u-button type=\"error\" :custom-style=\"customStyle\" size=\"medium\"  @click=\"clickHandle()\" :disabled='submitStatus' :loading='submitStatus' v-if=\"product.stock>0\" shape=\"circle\">确定</u-button>\r\n                        <u-button type=\"default\" size=\"medium\" v-else>已售罄</u-button>\r\n                    </view>\r\n                </view>\r\n            </view>\r\n        </u-popup>\r\n        <!--占位底部距离-->\r\n        <view class=\"coreshop-tabbar-height\" />\r\n        <!--底部操作-->\r\n        <view class=\"coreshop-good-footer-fixed\">\r\n            <view class=\"tabbar\">\r\n                 <!-- 客服按钮 -->\r\n                <view class=\"action\" >\r\n                    <button open-type=\"contact\" bindcontact=\"showChat\" class=\"noButtonStyle\">\r\n                        <u-icon name=\"server-fill\" :size=\"40\" label=\"客服\" :label-size=\"22\" label-pos=\"bottom\"></u-icon>\r\n                    </button>   \r\n                </view>\r\n                <view class=\"action\"  @click=\"collection\">\r\n                    <u-icon :name=\"[isfav?'star-fill':'star']\" :size=\"40\" :label=\"isfav?'已收藏':'收藏'\" :label-size=\"22\" label-pos=\"bottom\"></u-icon>\r\n                </view>\r\n                <view class=\"action\" @click=\"redirectCart\">\r\n                    <u-badge class=\"car-num\" :count=\"cartNums?cartNums:0\" type=\"error\" :offset=\"[-3, -6]\"></u-badge>\r\n\t\t\t\t    <u-icon name=\"shopping-cart\" :size=\"40\"  label=\"购物车\" :label-size=\"22\" label-pos=\"bottom\"></u-icon>\r\n                </view>\r\n                <view class=\"btn-box\">\r\n                    <u-button type=\"error\" :custom-style=\"customStyle\" size=\"medium\" @click=\"selectTap()\" shape=\"circle\">立即{{ typeName || '' }}</u-button>\r\n                </view>\r\n            </view>\r\n        </view>\r\n\r\n        <!-- 右边浮动球 -->\r\n        <coreshop-fab horizontal=\"right\" vertical=\"bottom\" direction=\"vertical\"></coreshop-fab>\r\n        <!-- 登录提示 -->\r\n        <coreshop-login-modal></coreshop-login-modal>\r\n\r\n    </view>\r\n</template>\r\n<script>\r\n    import { mapMutations, mapActions, mapState } from 'vuex';\r\n    import coreshopFab from '@/components/coreshop-fab/coreshop-fab.vue';\r\n    import { goods, articles, commonUse, tools } from '@/common/mixins/mixinsHelper.js'\r\n    import coreshopNavbarSlot from '@/components/coreshop-navbar-slot/coreshop-navbar-slot.vue';\r\n    import spec from '@/components/coreshop-spec/coreshop-spec.vue';\r\n    import shareByWx from '@/components/coreshop-share/shareByWx.vue';\r\n    export default {\r\n        mixins: [goods, articles, commonUse, tools],\r\n        components: {\r\n            coreshopFab,\r\n            coreshopNavbarSlot,\r\n            spec,\r\n            shareByWx,\r\n        },\r\n        data() {\r\n            return {\r\n                background: {\r\n                    backgroundColor: '#f37b1d'\r\n                },\r\n                customStyle: {\r\n                    width: '100%',\r\n                    borderColor:'#f37b1d',\r\n                    backgroundColor:'#f37b1d',\r\n                },\r\n                bannerCur: 0,\r\n                current: 0, // init tab位\r\n                goodsId: 0, // 商品id\r\n                groupId: 0, // 团购ID\r\n                goodsInfo: {}, // 商品详情\r\n                cartNums: 0, // 购物车数量\r\n                product: {}, // 规格详情\r\n                goodsParams: [], // 商品参数信息\r\n                goodsComments: [], // 商品评论信息\r\n                shopRecommendData: [], // 本店推荐数据\r\n                otherRecommendData: [], // 其他数据\r\n                buyNum: 1, // 选定的购买数量\r\n                minBuyNum: 1, // 最小可购买数量\r\n                type: 2,\r\n                cartType: 3,\r\n                isfav: false, // 商品是否收藏\r\n                //拼团列表滑动数据\r\n                swiperSet: {\r\n                    indicatorDots: false,\r\n                    autoplay: false,\r\n                    interval: 2000,\r\n                    duration: 500,\r\n                    groupHeight: '',\r\n                },\r\n                bottomModal: false,\r\n                modalTitle: '',\r\n                modalType: 'promotion',\r\n                selectType: '',\r\n                shareUrl: '/pages/share/jump/jump',\r\n                shareBox: false,\r\n                serviceDescription: {\r\n                    commonQuestion: [],\r\n                    delivery: [],\r\n                    service: [],\r\n                }\r\n            };\r\n        },\r\n        onLoad(e) {\r\n            this.goodsId = e.id;\r\n            this.groupId = e.groupId;\r\n            if (this.goodsId && this.groupId) {\r\n                this.getServiceDescription();\r\n                this.getGoodsInfo();\r\n                this.getGoodsParams();\r\n                this.getGoodsComments();\r\n            } else {\r\n                this.$refs.uToast.show({ title: '获取失败', type: 'error', back: true });\r\n            }\r\n            // 获取购物车数量\r\n            this.getCartNums();\r\n            //获取推荐数据\r\n            this.getGoodsRecommendList();\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                hasLogin: state => state.hasLogin,\r\n                userInfo: state => state.userInfo,\r\n            }),\r\n            hasLogin: {\r\n                get() {\r\n                    return this.$store.state.hasLogin;\r\n                },\r\n                set(val) {\r\n                    this.$store.commit('hasLogin', val);\r\n                }\r\n            },\r\n            shopName() {\r\n                return this.$store.state.config.shopName;\r\n            },\r\n            shareTitle() {\r\n                return this.$store.state.config.shareTitle;\r\n            },\r\n            shopLogo() {\r\n                return this.$store.state.config.shopLogo;\r\n            },\r\n            // 获取店铺联系人手机号\r\n            shopMobile() {\r\n                return this.$store.state.config.shopMobile || 0;\r\n            },\r\n            // 规格切换计算规格商品的 可购买数量\r\n            minNums() {\r\n                var num = this.product.stock > 0 ? this.product.stock : 0;\r\n                return num > this.minBuyNum ? this.minBuyNum : num;\r\n            },\r\n            // 判断商品是否是多规格商品  (为了兼容小程序 只能写在计算属性里面了)\r\n            isSpes() {\r\n                if (this.product.hasOwnProperty('defaultSpecificationDescription') && this.product.defaultSpecificationDescription != null && Object.keys(this.product.defaultSpecificationDescription).length) {\r\n                    if (this.product.defaultSpecificationDescription != null && this.product.defaultSpecificationDescription != \"\" && this.product.defaultSpecificationDescription != undefined) {\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                } else {\r\n                    return false;\r\n                }\r\n            },\r\n            // 优惠信息重新组装\r\n            promotion() {\r\n                let arr = [];\r\n                if (this.product.promotionList) {\r\n                    for (let k in this.product.promotionList) {\r\n                        arr.push(this.product.promotionList[k]);\r\n                    }\r\n                }\r\n                return arr;\r\n            },\r\n            typeName() {\r\n                return this.goodsInfo.groupType == 3 ? '团购' : '秒杀';\r\n            },\r\n            shareHref() {\r\n                let pages = getCurrentPages();\r\n                let page = pages[pages.length - 1];\r\n                return this.$globalConstVars.apiBaseUrl + 'wap/' + page.route + '?id=' + this.goodsId + '&groupId=' + this.groupId;\r\n            },\r\n            defaultSpesDesc() {\r\n                return this.product.defaultSpecificationDescription;\r\n            }\r\n        },\r\n        methods: {\r\n            bannerSwiper(e) {\r\n                this.bannerCur = e.detail.current;\r\n            },\r\n            getServiceDescription() {\r\n                let _this = this;\r\n                this.$u.api.getServiceDescription().then(res => {\r\n                    console.log(res);\r\n                    if (res.status == true) {\r\n                        _this.serviceDescription.commonQuestion = res.data.commonQuestion;\r\n                        _this.serviceDescription.delivery = res.data.delivery;\r\n                        _this.serviceDescription.service = res.data.service;\r\n\r\n                    } else {\r\n                        _this.$refs.uToast.show({ title: res.msg, type: 'error', back: true })\r\n                    }\r\n                })\r\n            },\r\n            getGoodsInfo() {\r\n                let data = {\r\n                    id: this.goodsId,\r\n                    groupId: this.groupId\r\n                };\r\n                // 如果用户已经登录 要传用户token\r\n                let userToken = this.$db.get('userToken');\r\n                if (userToken) {\r\n                    data['token'] = userToken;\r\n                }\r\n                let _this = this;\r\n                this.$u.api.groupInfo(data).then(res => {\r\n                    if (res.status) {\r\n                        if (res.data.length < 1) {\r\n                            _this.$refs.uToast.show({ title: '该商品不存在，请返回重新选择商品。', type: 'error', back: true });\r\n                        } else if (res.data.isMarketable == false) {\r\n                            _this.$refs.uToast.show({ title: '该商品已下架，请返回重新选择商品。', type: 'error', back: true });\r\n                        } else {\r\n                            let info = res.data;\r\n                            let products = res.data.product;\r\n\r\n                            _this.goodsInfo = info;\r\n                            _this.isfav = _this.goodsInfo.isfav;\r\n                            _this.type = _this.goodsInfo.groupType;\r\n                            _this.product = _this.spesClassHandle(products);\r\n\r\n                            _this.buyNum = _this.product.stock >= _this.minBuyNum ? _this.minBuyNum : 0;\r\n\r\n                            // 判断如果登录用户添加商品浏览足迹\r\n                            if (userToken) {\r\n                                _this.goodsBrowsing();\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            },\r\n            // 获取推荐商品信息\r\n            getGoodsRecommendList() {\r\n                let _this = this;\r\n                let recommenddata = {\r\n                    id: 10,\r\n                    data: true\r\n                }\r\n                _this.$u.api.getGoodsRecommendList(recommenddata).then(res => {\r\n                    if (res.status) {\r\n                        _this.shopRecommendData = _this.$u.randomArray(res.data);\r\n                    } else {\r\n                        _this.$u.toast(res.msg)\r\n                    }\r\n                });\r\n\r\n                let data = {\r\n                    id: 10\r\n                }\r\n                _this.$u.api.getGoodsRecommendList(data).then(res => {\r\n                    if (res.status) {\r\n                        _this.otherRecommendData = _this.$u.randomArray(res.data);\r\n                    } else {\r\n                        _this.$u.toast(res.msg)\r\n                    }\r\n                });\r\n            },\r\n\r\n\r\n            // 获取购物车数量\r\n            getCartNums() {\r\n                let userToken = this.$db.get('userToken');\r\n                if (userToken && userToken != '') {\r\n                    // 获取购物车数量\r\n                    this.$u.api.getCartNum().then(res => {\r\n                        if (res.status) {\r\n                            this.cartNums = res.data;\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n            // 切换商品规格\r\n            changeSpes(obj) {\r\n                let index = obj.v;\r\n                let key = obj.k;\r\n                let tmp_defaultSpecificationDescription = JSON.parse(this.product.defaultSpecificationDescription);\r\n                if (tmp_defaultSpecificationDescription[index][key].hasOwnProperty('productId') && tmp_defaultSpecificationDescription[index][key].productId) {\r\n                    let data = {\r\n                        id: tmp_defaultSpecificationDescription[index][key].productId,\r\n                        type: 'group', //商品类型\r\n                        groupId: this.groupId\r\n                    };\r\n                    let userToken = this.$db.get('userToken');\r\n                    if (userToken) {\r\n                        data['token'] = userToken;\r\n                    }\r\n                    this.$u.api.getProductInfo(data).then(res => {\r\n                        if (res.status == true) {\r\n                            // 切换规格判断可购买数量\r\n                            this.buyNum = res.data.stock > this.minBuyNum ? this.minBuyNum : res.data.stock;\r\n                            this.product = this.spesClassHandle(res.data);\r\n                        }\r\n                    });\r\n                    uni.showLoading({\r\n                        title: '加载中'\r\n                    });\r\n                    setTimeout(function () {\r\n                        uni.hideLoading();\r\n                    }, 1000);\r\n                }\r\n            },\r\n            // 多规格样式统一处理\r\n            spesClassHandle(products) {\r\n                // 判断是否是多规格 (是否有默认规格)\r\n                if (products.hasOwnProperty('defaultSpecificationDescription')) {\r\n                    let spes = products.defaultSpecificationDescription;\r\n                    for (let key in spes) {\r\n                        for (let i in spes[key]) {\r\n                            if (spes[key][i].hasOwnProperty('isDefault') && spes[key][i].isDefault === true) {\r\n                                this.$set(spes[key][i], 'cla', 'selected');\r\n                            } else if (spes[key][i].hasOwnProperty('productId') && spes[key][i].productId) {\r\n                                this.$set(spes[key][i], 'cla', 'not-selected');\r\n                            } else {\r\n                                this.$set(spes[key][i], 'cla', 'none');\r\n                            }\r\n                        }\r\n                    }\r\n                    spes = JSON.stringify(spes)\r\n                    products.defaultSpecificationDescription = spes;\r\n                }\r\n                return products;\r\n            },\r\n            // 购买数量加减操作\r\n            bindChange(e) {\r\n                this.buyNum = e.val;\r\n            },\r\n            // 商品收藏/取消\r\n            collection() {\r\n                let data = {\r\n                    id: this.goodsInfo.id\r\n                };\r\n                this.$u.api.goodsCollection(data).then(res => {\r\n                    if (res.status) {\r\n                        this.isfav = !this.isfav;\r\n                        this.$refs.uToast.show({ title: res.msg, type: 'success', back: false });\r\n                    } else {\r\n                        this.$u.toast(res.msg);\r\n                    }\r\n                });\r\n            },\r\n            // 获取商品参数信息\r\n            getGoodsParams() {\r\n                this.$u.api.goodsParams(\r\n                    {\r\n                        id: this.goodsId\r\n                    }).then(res => {\r\n                        if (res.status == true) {\r\n                            this.goodsParams = res.data;\r\n                        }\r\n                    }\r\n                    );\r\n            },\r\n            // 获取商品评论信息\r\n            getGoodsComments() {\r\n                let data = {\r\n                    page: 1,\r\n                    limit: 5,\r\n                    id: this.goodsId,\r\n                }\r\n                this.$u.api.goodsComment(data).then(res => {\r\n                    if (res.status == true) {\r\n                        let _list = res.data.list;\r\n                        // 如果评论没有图片 在这块作处理否则控制台报错\r\n                        _list.forEach(item => {\r\n                            if (!item.hasOwnProperty('images')) {\r\n                                this.$set(item, 'images', [])\r\n                            }\r\n                        });\r\n                        this.goodsComments = [...this.goodsComments, ..._list];\r\n                    } else {\r\n                        console.log(\"错误2\");\r\n                        this.$u.toast(res.msg);\r\n                    }\r\n                })\r\n            },\r\n            // 添加商品浏览足迹\r\n            goodsBrowsing() {\r\n                let data = {\r\n                    id: this.goodsInfo.id\r\n                };\r\n                this.$u.api.addGoodsBrowsing(data).then(res => { });\r\n            },\r\n            // 点击弹出框确定按钮事件处理\r\n            clickHandle() {\r\n                if (!this.hasLogin) {\r\n                    this.$store.commit('showLoginTip', true);\r\n                    return false;\r\n                }\r\n                this.submitStatus = true;\r\n                this.buyNow();\r\n            },\r\n            // 立即购买\r\n            buyNow() {\r\n                if (this.buyNum > 0) {\r\n                    let data = {\r\n                        ProductId: this.product.id,\r\n                        Nums: this.buyNum,\r\n                        type: this.type,\r\n                        cartType: this.cartType,\r\n                        objectId: this.groupId\r\n                    };\r\n                    this.$u.api.addCart(data).then(res => {\r\n                        if (res.status) {\r\n                            this.hideModal(); // 关闭弹出层\r\n                            let cartIds = res.data;\r\n                            this.$u.route('/pages/placeOrder/index/index?cartIds=' + JSON.stringify(cartIds) + '&orderType=' + this.cartType + '&objectId=' + this.groupId);\r\n\r\n                        } else {\r\n                            this.$u.toast(res.msg);\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n            // 购物车页面跳转\r\n            redirectCart() {\r\n                this.$u.route({\r\n                    type: 'switchTab',\r\n                    url: '/pages/index/cart/cart'\r\n                });\r\n            },\r\n            trigger(e) {\r\n                this.content[e.index].active = !e.item.active;\r\n                this.$u.route({\r\n                    type: 'switchTab',\r\n                    url: e.item.url\r\n                });\r\n            },\r\n            // 跳转到h5分享页面\r\n            goShare() {\r\n                this.shareBox = true;\r\n            },\r\n            closeShare() {\r\n                this.shareBox = false;\r\n            },\r\n            // 图片点击放大\r\n            clickImg(imgs) {\r\n                // 预览图片\r\n                uni.previewImage({\r\n                    urls: imgs.split()\r\n                });\r\n            },\r\n            //在线客服,只有手机号的，请自己替换为手机号\r\n            showChat() {\r\n            },\r\n            //获取分享URL\r\n            getShareUrl() {\r\n                let data = {\r\n                    client: 2,\r\n                    url: \"/pages/share/jump/jump\",\r\n                    type: 1,\r\n                    page: 9,\r\n                    params: {\r\n                        goodsId: this.goodsId,\r\n                        groupId: this.groupId\r\n                    }\r\n                };\r\n                let userToken = this.$db.get('userToken');\r\n                if (userToken && userToken != '') {\r\n                    data['token'] = userToken;\r\n                }\r\n                this.$u.api.share(data).then(res => {\r\n                    this.shareUrl = res.data\r\n                });\r\n            },\r\n            serviceTap() {\r\n                this.modalTitle = \"说明\";\r\n                this.modalType = 'service';\r\n                this.showModal();\r\n            },\r\n            promotionTap() {\r\n                this.modalTitle = \"促销优惠\";\r\n                this.modalType = 'promotion';\r\n                this.showModal();\r\n            },\r\n            // 显示modal弹出框\r\n            selectTap() {\r\n                this.modalTitle = \"选择规格\";\r\n                this.modalType = 'select';\r\n                this.showModal();\r\n            },\r\n            showModal() {\r\n                this.bottomModal = true;\r\n            },\r\n            hideModal(e) {\r\n                this.bottomModal = false;\r\n                this.modalTitle = \"\";\r\n                this.modalType = '';\r\n            },\r\n        },\r\n        watch: {\r\n            goodsId: {\r\n                handler() {\r\n                    this.getShareUrl();\r\n                },\r\n                deep: true\r\n            }\r\n        },\r\n        //分享\r\n        onShareAppMessage(res) {\r\n            return {\r\n                title: this.goodsInfo.name,\r\n                imageUrl: this.goodsInfo.image,\r\n                path: this.shareUrl\r\n            }\r\n        },\r\n        onShareTimeline(res) {\r\n            return {\r\n                title: this.goodsInfo.name,\r\n                imageUrl: this.goodsInfo.image,\r\n                path: this.shareUrl\r\n            }\r\n        },\r\n    };\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    @import \"details.scss\";\r\n</style>\r\n","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./details.vue?vue&type=style&index=0&id=5a57ea4c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./details.vue?vue&type=style&index=0&id=5a57ea4c&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1723964537822\n      var cssReload = require(\"E:/Share/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}