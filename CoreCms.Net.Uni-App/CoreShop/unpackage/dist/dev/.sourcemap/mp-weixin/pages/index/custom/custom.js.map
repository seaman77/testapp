{"version":3,"sources":["uni-app:///main.js","webpack:///E:/Share/CoreShop/CoreCms.Net.Uni-App/CoreShop/pages/index/custom/custom.vue?202d","webpack:///E:/Share/CoreShop/CoreCms.Net.Uni-App/CoreShop/pages/index/custom/custom.vue?b8cf","webpack:///E:/Share/CoreShop/CoreCms.Net.Uni-App/CoreShop/pages/index/custom/custom.vue?61d4","webpack:///E:/Share/CoreShop/CoreCms.Net.Uni-App/CoreShop/pages/index/custom/custom.vue?518a","uni-app:///pages/index/custom/custom.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","mixins","components","copyright","coreshopPage","modalImg","data","background","titleColor","swiperItems","currentIndex","opacity","scrollTop","imageUrl","pageData","pageCode","kefupara","copy","shareUrl","modalShow","updated","computed","hasLogin","userInfo","get","set","appTitle","shopMobile","onLoad","console","methods","about","goSearch","uni","url","initData","title","code","image","bg","opentype","linkType","linkValue","setTimeout","_this","swiperChange","showChat","getShareUrl","client","type","page","taped","showSliderInfo","receiveCoupon","promotion_id","back","onPullDownRefresh","onShareAppMessage","path","onShareTimeline","onPageScroll"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;;;AAGrD;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,uMAEN;AACP,KAAK;AACL;AACA,aAAa,+NAEN;AACP,KAAK;AACL;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1DA;AAAA;AAAA;AAAA;AAAioB,CAAgB,gnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;AC0BrpB;AAIA;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eACA;EACAC;EACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MAEAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MACAC;MAAA;MACA;MACAC;MAAA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC,0CACA;IACAC;MAAA;IAAA;IACAC;MAAA;IAAA;EACA;IACAD;MACAE;QACA;MACA;MACAC;QACA;MACA;IACA;IACAF;MACAC;QACA;MACA;MACAC;QACA;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;EAAA,EACA;EACAC;IACA;IACA;MACA;IACA;IACA;IACAC;EACA;EACAC;IACAC,yBAEA;IACAC;MACAC;QACAC;MACA;IACA;IACA;IACAC;MAAA;MACAF;QACAG;MACA;MACA;MACA;QAAAC;MAAA;QACA;UACA;UAEA;YACA;cACA;gBACA;gBACA;kBACA;oBACAC;oBACAC;oBACAC;oBACAN;oBACAE;oBACAK;oBACAC;kBACA;kBACA;gBACA;cACA;YACA;UACA;QACA;QACAC;UACAV;QACA;MACA;MAEA;MACA;QACA;UACA;YACAW;YACAA;;YAEA;YACA;YACA5B;YACAA;YACA4B;YACA;UAEA;QACA;MACA;;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;;MAwBA;;MAKA;IAAA,CAaA;IACA;IACAC;MAAA;MACA;QACAC;QACAd;QACAe;QACAC;MACA;MACA;MACA;QACA5C;MACA;MACA;QACA;MACA;IACA;IACA6C;MACA;IACA;IACA;IACAC;MACA;QACA;MACA;MACA;QACA,gCAIA;UAEA;YACA;cACAH;cACAf;YACA;YACA;UACA;YACA;YACA;UACA;YACA;YACA;UACA;QAEA;MACA;QACA;QACA;MACA;QACA;QACA;MACA;QACA;QACA;MACA;QACA;QACA;MACA;IACA;IACA;IACAmB;MAAA;MACA;QACAC;MACA;MACA;QACA;UACA;YAAAlB;YAAAa;YAAAM;UAAA;QACA;UACA;QACA;MACA;IACA;EAEA;EACAC;IACA;IACA;IACAvB;EACA;EACA;EACAwB;IACA;MACArB;MACAvB;MACA6C;IACA;EACA;EACAC;IACA;MACAvB;MACAvB;MACA6C;IACA;EACA;EACAE;IACA;IACA;MACA;IACA;MACA;IACA;EACA;AACA;AAAA,2B","file":"pages/index/custom/custom.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/custom/custom.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./custom.vue?vue&type=template&id=4946bd69&\"\nvar renderjs\nimport script from \"./custom.vue?vue&type=script&lang=js&\"\nexport * from \"./custom.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/custom/custom.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./custom.vue?vue&type=template&id=4946bd69&\"","var components\ntry {\n  components = {\n    uToast: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-toast/u-toast\" */ \"@/uview-ui/components/u-toast/u-toast.vue\"\n      )\n    },\n    uNoNetwork: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-no-network/u-no-network\" */ \"@/uview-ui/components/u-no-network/u-no-network.vue\"\n      )\n    },\n    uNavbar: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-navbar/u-navbar\" */ \"@/uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uBackTop: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-back-top/u-back-top\" */ \"@/uview-ui/components/u-back-top/u-back-top.vue\"\n      )\n    },\n    coreshopLoginModal: function () {\n      return import(\n        /* webpackChunkName: \"components/coreshop-login-modal/coreshop-login-modal\" */ \"@/components/coreshop-login-modal/coreshop-login-modal.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./custom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./custom.vue?vue&type=script&lang=js&\"","<template>\r\n    <!-- 页面主体 -->\r\n    <view>\r\n        <!--提示框组件-->\r\n        <u-toast ref=\"uToast\" />\r\n        <!--无网络组件-->\r\n        <u-no-network></u-no-network>\r\n        <!--头部组件-->\r\n        <u-navbar :is-back=\"false\" :title=\"appTitle\" :background=\"background\" :title-color=\"titleColor\" :custom-back=\"about\"></u-navbar>\r\n\r\n        <!--首页模块化组合组件-->\r\n        <coreshopPage :coreshopdata=\"pageData\"></coreshopPage>\r\n        <!--版权组件-->\r\n        <copyright v-if=\"copy\"></copyright>\r\n        <!--客服组件-->\r\n        <button class=\"floatingButton\" hover-class=\"none\" open-type=\"contact\" bindcontact=\"showChat\" :session-from=\"kefupara\">\r\n            <u-icon name=\"server-man\" color=\"#e54d42\" size=\"60\"></u-icon>\r\n        </button>\r\n        <!--返回顶部组件-->\r\n        <u-back-top :scroll-top=\"scrollTop\" :duration=\"500\"></u-back-top>\r\n\r\n        <!-- 登录提示 -->\r\n        <coreshop-login-modal></coreshop-login-modal>\r\n    </view>\r\n</template>\r\n<script>\r\n    import { mapMutations, mapActions, mapState } from 'vuex';\r\n    import coreshopPage from '@/components/coreshop-page/coreshop.vue';\r\n    import copyright from '@/components/coreshop-copyright/coreshop-copyright.vue';\r\n    import modalImg from '@/components/coreshop-modal-img/coreshop-modal-img.vue';\r\n    import { goods } from '@/common/mixins/mixinsHelper.js';\r\n    export default {\r\n        mixins: [goods],\r\n        components: {\r\n            copyright,\r\n            coreshopPage,\r\n            modalImg\r\n        },\r\n        data() {\r\n            return {\r\n                background: this.$coreTheme.mainNabBar.background,\r\n                titleColor: this.$coreTheme.mainNabBar.titleColor,\r\n\r\n                swiperItems: [],\r\n                currentIndex: 0,\r\n                opacity: 0,\r\n                scrollTop: 0,\r\n                imageUrl: '/static/images/ShareImage.png', //店铺分享图片\r\n                pageData: [],\r\n                pageCode: 'mobile_home', //页面布局编码\r\n                //userInfo: {}, // 用户信息\r\n                kefupara: '', //客服传递资料\r\n                copy: false,\r\n                shareUrl: '/pages/share/jump/jump',\r\n                modalShow: true,\r\n            };\r\n        },\r\n        updated() {\r\n            this.copy = true;\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                hasLogin: state => state.hasLogin,\r\n                userInfo: state => state.userInfo,\r\n            }),\r\n            hasLogin: {\r\n                get() {\r\n                    return this.$store.state.hasLogin;\r\n                },\r\n                set(val) {\r\n                    this.$store.commit('hasLogin', val);\r\n                }\r\n            },\r\n            userInfo: {\r\n                get() {\r\n                    return this.$store.state.userInfo;\r\n                },\r\n                set(val) {\r\n                    this.$store.commit('userInfo', val);\r\n                }\r\n            },\r\n            appTitle() {\r\n                return this.$store.state.config.shopName;\r\n            },\r\n            // 获取店铺联系人手机号\r\n            shopMobile() {\r\n                return this.$store.state.config.shopMobile || 0;\r\n            }\r\n        },\r\n        onLoad(e) {\r\n            //增加页面编码，可自定义编码\r\n            if (e.pageCode) {\r\n                this.pageCode = e.pageCode;\r\n            }\r\n            this.initData();\r\n            console.log(\"数据：\" + this.$globalConstVars.apiFilesUrl);\r\n        },\r\n        methods: {\r\n            about() {\r\n\r\n            },\r\n            goSearch() {\r\n                uni.navigateTo({\r\n                    url: '/pages/search/search'\r\n                });\r\n            },\r\n            // 首页初始化获取数据\r\n            initData() {\r\n                uni.showLoading({\r\n                    title: '加载中'\r\n                });\r\n                //获取首页配置\r\n                this.$u.api.getPageConfig({ code: this.pageCode }).then(res => {\r\n                    if (res.status == true) {\r\n                        this.pageData = res.data.items;\r\n\r\n                        if (res.data.items.length > 0) {\r\n                            for (var i = 0; i < res.data.items.length; i++) {\r\n                                if (res.data.items[i].widgetCode == 'topImgSlide') {\r\n                                    var data = res.data.items[i].parameters.list;\r\n                                    for (var i = 0; i < data.length; i++) {\r\n                                        let moder = {\r\n                                            image: data[i].image == '/images/empty-banner.png' ? '/static/images/common/empty-banner.png' : data[i].image,\r\n                                            bg: data[i].bg == '/images/empty-banner.png' ? '/static/images/common/empty-banner.png' : data[i].bg,\r\n                                            opentype: 'click',\r\n                                            url: '',\r\n                                            title: data[i].linkType,\r\n                                            linkType: data[i].linkType,\r\n                                            linkValue: data[i].linkValue,\r\n                                        }\r\n                                        this.swiperItems.push(moder);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    setTimeout(function () {\r\n                        uni.hideLoading();\r\n                    }, 1000);\r\n                });\r\n\r\n                var _this = this;\r\n                if (this.$db.get('userToken')) {\r\n                    this.$u.api.userInfo().then(res => {\r\n                        if (res.status) {\r\n                            _this.userInfo = res.data;\r\n                            _this.hasLogin = true;\r\n                            // #ifdef MP-WEIXIN\r\n                            //微信小程序打开客服时，传递用户信息\r\n                            var kefupara = {};\r\n                            kefupara.nickName = res.data.nickName;\r\n                            kefupara.tel = res.data.mobile;\r\n                            _this.kefupara = JSON.stringify(kefupara);\r\n                            //console.log(_this.kefupara);\r\n                            // #endif\r\n                        }\r\n                    });\r\n                }\r\n                this.getShareUrl();\r\n            },\r\n            swiperChange(e) {\r\n                this.currentIndex = e;\r\n            },\r\n            //在线客服,只有手机号的，请自己替换为手机号\r\n            showChat() {\r\n                // #ifdef H5\r\n                let _this = this;\r\n                window._AIHECONG('ini', {\r\n                    entId: this.$store.state.config.entId,\r\n                    button: false,\r\n                    appearance: {\r\n                        panelMobile: {\r\n                            tone: '#FF7159',\r\n                            sideMargin: 30,\r\n                            ratio: 'part',\r\n                            headHeight: 50\r\n                        }\r\n                    }\r\n                });\r\n                //传递客户信息\r\n                window._AIHECONG('customer', {\r\n                    head: _this.userInfo.avatarImage,\r\n                    名称: _this.userInfo.nickName,\r\n                    手机: _this.userInfo.mobile\r\n                });\r\n                window._AIHECONG('showChat');\r\n                // #endif\r\n\r\n                // 客服页面\r\n                // #ifdef APP-PLUS || APP-PLUS-NVUE\r\n                this.$u.route('/pages/member/customerService/index');\r\n                // #endif\r\n\r\n                // 头条系客服\r\n                // #ifdef MP-TOUTIAO\r\n                if (this.shopMobile != 0) {\r\n                    let _this = this;\r\n                    tt.makePhoneCall({\r\n                        phoneNumber: this.shopMobile.toString(),\r\n                        success(res) { },\r\n                        fail(res) { }\r\n                    });\r\n                } else {\r\n                    _this.$u.toast('暂无设置客服电话');\r\n                }\r\n                // #endif\r\n            },\r\n            //获取分享URL\r\n            getShareUrl() {\r\n                let data = {\r\n                    client: 2,\r\n                    url: \"/pages/share/jump/jump\",\r\n                    type: 1,\r\n                    page: 1,\r\n                };\r\n                let userToken = this.$db.get('userToken');\r\n                if (userToken && userToken != '') {\r\n                    data['token'] = userToken;\r\n                }\r\n                this.$u.api.share(data).then(res => {\r\n                    this.shareUrl = res.data\r\n                });\r\n            },\r\n            taped: function (e) {\r\n                this.showSliderInfo(this.swiperItems[e].linkType, this.swiperItems[e].linkValue);\r\n            },\r\n            // 广告点击查看详情\r\n            showSliderInfo(type, val) {\r\n                if (!val) {\r\n                    return;\r\n                }\r\n                if (type == 1) {\r\n                    if (val.indexOf('http') != -1) {\r\n                        // #ifdef H5\r\n                        window.location.href = val\r\n                        // #endif\r\n                    } else {\r\n                        // #ifdef H5 || APP-PLUS || APP-PLUS-NVUE || MP\r\n                        if (val == '/pages/index/default/default' || val == '/pages/category/index/index' || val == '/pages/index/cart/cart' || val == '/pages/index/member/member') {\r\n                            this.$u.route({\r\n                                type: 'switchTab',\r\n                                url: val\r\n                            });\r\n                            return;\r\n                        } else if (val.indexOf('/pages/coupon/coupon') > -1) {\r\n                            var id = val.replace('/pages/coupon/coupon?id=', \"\");\r\n                            this.receiveCoupon(id)\r\n                        } else {\r\n                            this.$u.route(val);\r\n                            return;\r\n                        }\r\n                        // #endif\r\n                    }\r\n                } else if (type == 2) {\r\n                    // 商品详情\r\n                    this.goGoodsDetail(val)\r\n                } else if (type == 3) {\r\n                    // 文章详情\r\n                    this.$u.route('/pages/article/details/details?id=' + val + '&idType=1')\r\n                } else if (type == 4) {\r\n                    // 文章列表\r\n                    this.$u.route('/pages/article/list/list?cid=' + val)\r\n                } else if (type == 5) {\r\n                    //智能表单\r\n                    this.$u.route('/pages/form/details/details?id=' + val)\r\n                }\r\n            },\r\n            // 用户领取优惠券\r\n            receiveCoupon(couponId) {\r\n                let data = {\r\n                    promotion_id: couponId\r\n                }\r\n                this.$u.api.getCoupon(data).then(res => {\r\n                    if (res.status) {\r\n                        this.$refs.uToast.show({ title: res.msg, type: 'success', back: false })\r\n                    } else {\r\n                        this.$u.toast(res.msg)\r\n                    }\r\n                })\r\n            },\r\n\r\n        },\r\n        onPullDownRefresh() {\r\n            this.swiperItems = [];\r\n            this.initData();\r\n            uni.stopPullDownRefresh();\r\n        },\r\n        //分享\r\n        onShareAppMessage(res) {\r\n            return {\r\n                title: this.$store.state.config.shareTitle,\r\n                imageUrl: this.$store.state.config.shareImage,\r\n                path: this.shareUrl\r\n            }\r\n        },\r\n        onShareTimeline(res) {\r\n            return {\r\n                title: this.$store.state.config.shareTitle,\r\n                imageUrl: this.$store.state.config.shareImage,\r\n                path: this.shareUrl\r\n            }\r\n        },\r\n        onPageScroll: function (e) {\r\n            this.scrollTop = e.scrollTop;\r\n            if (e.scrollTop <= 100) {\r\n                this.opacity = e.scrollTop / 100;\r\n            } else if (this.scrollTop > 100) {\r\n                this.opacity = 1;\r\n            }\r\n        },\r\n    };\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>\r\n"],"sourceRoot":""}