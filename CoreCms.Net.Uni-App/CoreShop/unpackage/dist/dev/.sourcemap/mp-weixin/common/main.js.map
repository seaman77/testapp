{"version":3,"sources":["uni-app:///main.js","webpack:///E:/Share/CoreShop/CoreCms.Net.Uni-App/CoreShop/App.vue?9846","webpack:///E:/Share/CoreShop/CoreCms.Net.Uni-App/CoreShop/App.vue?a2ca","uni-app:///App.vue","webpack:///E:/Share/CoreShop/CoreCms.Net.Uni-App/CoreShop/App.vue?addb","webpack:///E:/Share/CoreShop/CoreCms.Net.Uni-App/CoreShop/App.vue?d305"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","Vue","use","uView","mpShare","require","mixin","data","$globalConstVars","GlobalConstVars","config","productionTip","prototype","$upload","Upload","$common","Common","$db","Db","$coreTheme","CoreTheme","$store","store","App","mpType","app","httpInterceptor","httpApi","$mount","onLaunch","console","onShow","onHide","methods","autoUpdate","updateManager","title","content","success","self","showCancel","confirmText","downLoadAndUpdate"],"mappings":";;;;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AAEA;AAEA;AAEA;AAEA;AAGA;AAEA;AAGA;AAgCA;AAKA;AAAkD;AAAA;AAAA;AAAA;AAvDlD;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAkB1DC,YAAG,CAACC,GAAG,CAACC,gBAAK,CAAC;;AAGd;AACA,IAAIC,OAAO,GAAGC,mBAAO,CAAC,0CAAkC,CAAC;AACzDJ,YAAG,CAACK,KAAK,CAACF,OAAO,CAAC;;AAElB;AACAH,YAAG,CAACK,KAAK,CAAC;EACNC,IAAI,kBAAG;IACH,OAAO;MACHC,gBAAgB,EAAEC;IACtB,CAAC;EACL;AACJ,CAAC,CAAC;AAEFR,YAAG,CAACS,MAAM,CAACC,aAAa,GAAG,KAAK;AAChCV,YAAG,CAACW,SAAS,CAACC,OAAO,GAAGC,MAAM;AAC9Bb,YAAG,CAACW,SAAS,CAACG,OAAO,GAAGC,MAAM;AAC9Bf,YAAG,CAACW,SAAS,CAACK,GAAG,GAAGC,EAAE;AACtBjB,YAAG,CAACW,SAAS,CAACJ,gBAAgB,GAAGC,eAAe;AAChDR,YAAG,CAACW,SAAS,CAACO,UAAU,GAAGC,SAAS;AACpCnB,YAAG,CAACW,SAAS,CAACS,MAAM,GAAGC,cAAK;AAE5BC,YAAG,CAACC,MAAM,GAAG,KAAK;AAElB,IAAMC,GAAG,GAAG,IAAIxB,YAAG,mBACZsB,YAAG,EACR;;AAEF;;AAEA;AACAtB,YAAG,CAACC,GAAG,CAACwB,wBAAe,EAAED,GAAG,CAAC;;AAE7B;;AAEAxB,YAAG,CAACC,GAAG,CAACyB,gBAAO,EAAEF,GAAG,CAAC;AAErB,UAAAA,GAAG,EAACG,MAAM,EAAE,C;;;;;;;;;;;;;AC3DZ;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACuD;AACL;AACc;;;AAGhE;AACgK;AAChK,gBAAgB,6KAAU;AAC1B,EAAE,yEAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAilB,CAAgB,6mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACCrmB;AAAA,eACA;EACAC;IAAA;IACA;IACA;IACA;IACA;MACAC;IACA;IAEA;;IAOA;IACA;MACA;IASA;IACA;IACA;MACA;QACA;MACA;IACA;EAEA;EACAC;IAEA;IACAD;;IAEA;EACA;;EACAE;IACA;EAAA,CACA;EACAC;IAEA;IACAC;MACA;MACA;MACA;QACA;QACA;QACA;QACAC;UACA;UACA;UACA;UACA;YACA;YACArC;cACAsC;cACAC;cACAC;gBACA;kBACA;kBACAC;gBACA;kBACA;kBACAzC;oBACAsC;oBACAC;oBACAG;oBACAC;oBACAH;sBACA;wBACA;wBACAC;sBACA;oBACA;kBACA;gBACA;cACA;YACA;UACA;QACA;MACA;QACA;QACAzC;UACAsC;UACAC;QACA;MACA;IACA;IACAK;MACA;MACA5C;MACA;MACAqC;QACArC;QACA;QACAqC;MACA;MACAA;QACA;QACArC;UACAsC;UACAC;QACA;MACA;IACA;EAwCA;AACA;AAAA,2B;;;;;;;;;;;;;AC3JA;AAAA;AAAA;AAAA;AAAgnC,CAAgB,4lCAAG,EAAC,C;;;;;;;;;;;ACApoC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"common/main.js","sourcesContent":["import 'uni-pages';\r\n// @ts-ignore\r\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import Vue from 'vue'\r\nimport App from './App'\r\n//上传方法\r\nimport * as Upload from '@/common/utils/uploadHelper.js'\r\n//常用方法库\r\nimport * as Common from '@/common/utils/commonHelper.js'\r\n//本地存储封装\r\nimport * as Db from '@/common/utils/dbHelper.js'\r\n//全局常量配置\r\nimport * as GlobalConstVars from '@/common/setting/constVarsHelper.js'\r\n\r\n//全局常量配置\r\nimport * as CoreTheme from '@/common/setting/coreThemeHelper.js'\r\n\r\nimport store from '@/common/store'\r\n\r\n//引入全局uView\r\nimport uView from 'uview-ui';\r\nVue.use(uView);\r\n\r\n\r\n// 引入uView对小程序分享的mixin封装\r\nlet mpShare = require('@/uview-ui/libs/mixin/mpShare.js');\r\nVue.mixin(mpShare)\r\n\r\n//全局引用常量配置文件,用于template内代码使用\r\nVue.mixin({\r\n    data() {\r\n        return {\r\n            $globalConstVars: GlobalConstVars\r\n        }\r\n    }\r\n})\r\n\r\nVue.config.productionTip = false\r\nVue.prototype.$upload = Upload;\r\nVue.prototype.$common = Common;\r\nVue.prototype.$db = Db;\r\nVue.prototype.$globalConstVars = GlobalConstVars;\r\nVue.prototype.$coreTheme = CoreTheme;\r\nVue.prototype.$store = store;\r\n\r\nApp.mpType = 'app'\r\n\r\nconst app = new Vue({\r\n    ...App\r\n})\r\n\r\n// http拦截器\r\nimport httpInterceptor from '@/common/request/http.interceptor.js'\r\n// 这里需要写在最后，是为了等Vue创建对象完成，引入\"app\"对象(也即页面的\"this\"实例)\r\nVue.use(httpInterceptor, app)\r\n\r\n// http接口API集中管理引入部分\r\nimport httpApi from '@/common/request/http.api.js'\r\nVue.use(httpApi, app)\r\n\r\napp.$mount()","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\n    import Vue from 'vue'\r\n    export default {\r\n        onLaunch() {\r\n            //版本设置\r\n            const version = '1.5.5'\r\n            // 开发环境才提示，生产环境不会提示\r\n            if (process.env.NODE_ENV === 'development') {\r\n                console.log(`\\n %c \\u6838\\u5fc3\\u5546\\u57ce\\u7cfb\\u7edf\\u0020\\u0043\\u006f\\u0072\\u0065\\u0053\\u0068\\u006f\\u0070 V${version} %c \\u0068\\u0074\\u0074\\u0070\\u0073\\u003a\\u002f\\u002f\\u0077\\u0077\\u0077\\u002e\\u0063\\u006f\\u0072\\u0065\\u0073\\u0068\\u006f\\u0070\\u002e\\u0063\\u006e\\u002f \\n\\n`, 'color: #ffffff; background: #3c9cff; padding:5px 0;', 'color: #3c9cff;background: #f1f1f1; padding:5px 0;');\r\n            }\r\n            // #ifdef MP-WEIXIN\r\n            this.autoUpdate();\r\n            // #endif\r\n\r\n            // #ifdef APP-PLUS || APP-PLUS-NVUE\r\n            this.checkVersion()\r\n            // #endif\r\n\r\n            // 获取店铺配置信息  全局只请求一次\r\n            this.$u.api.shopConfigV2().then(res => {\r\n                this.$store.commit('config', res.data)\r\n                // #ifdef H5\r\n                //百度统计\r\n                if (res.data.statistics) {\r\n                    var script = document.createElement(\"script\");\r\n                    script.innerHTML = res.data.statistics;\r\n                    document.getElementsByTagName(\"body\")[0].appendChild(script);\r\n                }\r\n                // #endif\r\n            })\r\n            //获取三级联动城市信息\r\n            this.$u.api.getAreaList().then(res => {\r\n                if (res.status) {\r\n                    this.$db.set('areaList', res.data)\r\n                }\r\n            });\r\n\r\n        },\r\n        onShow: function (obj) {\r\n            // #ifdef MP-WEIXIN\r\n            this.$store.commit('scene', obj.scene)\r\n            console.log(obj);\r\n            // #endif\r\n            //console.log('App Show')\r\n        },\r\n        onHide: function () {\r\n            //console.log('App Hide')\r\n        },\r\n        methods: {\r\n            // #ifdef MP-WEIXIN\r\n            //微信小程序检测更新措施，方式更新功能后，要等待24小时内才刷新的问题。\r\n            autoUpdate() {\r\n                var self = this\r\n                // 获取小程序更新机制兼容\r\n                if (wx.canIUse('getUpdateManager')) {\r\n                    //console.log(\"进入小程序自动更新检测\");\r\n                    const updateManager = wx.getUpdateManager()\r\n                    //1. 检查小程序是否有新版本发布\r\n                    updateManager.onCheckForUpdate(function (res) {\r\n                        //console.log(\"进入小程序检测是否需要自动更新\");\r\n                        //console.log(res);\r\n                        // 请求完新版本信息的回调\r\n                        if (res.hasUpdate) {\r\n                            //检测到新版本，需要更新，给出提示\r\n                            wx.showModal({\r\n                                title: '更新提示',\r\n                                content: '检测到新版本，是否下载新版本并重启小程序？',\r\n                                success: function (res) {\r\n                                    if (res.confirm) {\r\n                                        //2. 用户确定下载更新小程序，小程序下载及更新静默进行\r\n                                        self.downLoadAndUpdate(updateManager)\r\n                                    } else if (res.cancel) {\r\n                                        //用户点击取消按钮，需要强制更新，二次弹窗\r\n                                        wx.showModal({\r\n                                            title: '温馨提示~',\r\n                                            content: '本次版本更新涉及到新的功能添加，旧版本无法正常访问的哦~',\r\n                                            showCancel: false,\r\n                                            confirmText: \"确定更新\",\r\n                                            success: function (res) {\r\n                                                if (res.confirm) {\r\n                                                    //下载新版本，并重新应用\r\n                                                    self.downLoadAndUpdate(updateManager)\r\n                                                }\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                }\r\n                            })\r\n                        }\r\n                    })\r\n                } else {\r\n                    // 如果希望用户在最新版本的客户端上体验您的小程序，可以这样子提示\r\n                    wx.showModal({\r\n                        title: '提示',\r\n                        content: '当前微信版本过低，无法使用该功能，请升级到最新微信版本后重试。'\r\n                    })\r\n                }\r\n            },\r\n            downLoadAndUpdate(updateManager) {\r\n                var self = this\r\n                wx.showLoading();\r\n                //静默下载更新小程序新版本\r\n                updateManager.onUpdateReady(function () {\r\n                    wx.hideLoading()\r\n                    //新的版本已经下载好，调用 applyUpdate 应用新版本并重启\r\n                    updateManager.applyUpdate()\r\n                })\r\n                updateManager.onUpdateFailed(function () {\r\n                    // 新的版本下载失败\r\n                    wx.showModal({\r\n                        title: '已经有新版本了哟~',\r\n                        content: '新版本已经上线啦~，请您删除当前小程序，重新搜索打开哟~',\r\n                    })\r\n                })\r\n            },\r\n            // #endif\r\n            // #ifdef APP-PLUS || APP-PLUS-NVUE\r\n            // app更新检测\r\n            checkVersion() {\r\n                // 获取应用版本号\r\n                let version = plus.runtime.version;\r\n                //检测当前平台，如果是安卓则启动安卓更新\r\n                uni.getSystemInfo({\r\n                    success: res => {\r\n                        this.updateHandler(res.platform, version);\r\n                    }\r\n                })\r\n            },\r\n            // 更新操作\r\n            updateHandler(platform, version) {\r\n                let data = {\r\n                    platform: platform,\r\n                    version: version\r\n                }\r\n                let _this = this;\r\n                this.$u.api.getAppVersion(data).then(res => {\r\n                    if (res.status && res.data[0].version) {\r\n                        const info = res.data[0];\r\n                        if (info.version !== '' && info.version > version) {\r\n                            uni.showModal({\r\n                                //提醒用户更新\r\n                                title: '更新提示',\r\n                                content: info.note,\r\n                                success: res => {\r\n                                    if (res.confirm) {\r\n                                        plus.runtime.openURL(info.download_url)\r\n                                    }\r\n                                }\r\n                            })\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            // #endif\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"scss\">\r\n    /*加载UViewUI*/\r\n    @import \"uview-ui/index.scss\";\r\n    /*公共css */\r\n    @import 'static/style/coreCommon.scss';\r\n</style>","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1723964535379\n      var cssReload = require(\"E:/Share/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}