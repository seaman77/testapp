<view class="wrap data-v-07f5d349"><u-toast vue-id="1275d246-1" data-ref="uToast" class="data-v-07f5d349 vue-ref" bind:__l="__l"></u-toast><u-no-network vue-id="1275d246-2" class="data-v-07f5d349" bind:__l="__l"></u-no-network><u-navbar vue-id="1275d246-3" is-back="{{false}}" background="{{background}}" class="data-v-07f5d349" bind:__l="__l" vue-slots="{{['default']}}"><view class="slot-wrap data-v-07f5d349"><u-search vue-id="{{('1275d246-4')+','+('1275d246-3')}}" show-action="{{true}}" shape="round" action-text="搜索" placeholder="请输入搜索内容" action-style="{{actionStyle}}" value="{{searchKey}}" data-event-opts="{{[['^custom',[['goSearch']]],['^search',[['goSearch']]],['^input',[['__set_model',['','searchKey','$event',[]]]]]]}}" bind:custom="__e" bind:search="__e" bind:input="__e" class="data-v-07f5d349" bind:__l="__l"></u-search></view></u-navbar><block wx:if="{{$root.g0}}"><view class="data-v-07f5d349"><view class="coreshop-emptybox data-v-07f5d349"><u-empty vue-id="1275d246-5" src="{{$globalConstVars.apiFilesUrl+'/static/images/empty/cart.png'}}" icon-size="300" text="您的购物车空空如也" mode="list" class="data-v-07f5d349" bind:__l="__l"></u-empty><navigator class="coreshop-btn data-v-07f5d349" url="/pages/category/index/index" open-type="switchTab">随便逛逛</navigator></view></view></block><block wx:else><block wx:for="{{shoppingCard.list}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="cart-shoppingcard data-v-07f5d349"><view data-event-opts="{{[['tap',[['goGoodsDetail',['$0'],[[['shoppingCard.list','',index,'products.goodsId']]]]]]]}}" class="cart-space-between cart-flex-vcenter data-v-07f5d349" bindtap="__e"><view class="cart-shopp-name data-v-07f5d349"><text class="cart-h5 cart-bold data-v-07f5d349">{{item.products.name}}</text></view><view class="cart-shopp-go cart-nowrap cart-flex-end data-v-07f5d349"><u-button class="cart-text data-v-07f5d349" vue-id="{{'1275d246-6-'+index}}" plain="{{true}}" size="mini" data-event-opts="{{[['^click',[['goGoodsDetail',['$0'],[[['shoppingCard.list','',index,'products.goodsId']]]]]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">浏览</u-button></view></view><view style="height:25rpx;" class="data-v-07f5d349"></view><view class="cart-shoppingcard-goods data-v-07f5d349"><view class="cart-shoppingcard-goods-checkbtn data-v-07f5d349"><u-checkbox vue-id="{{'1275d246-7-'+index}}" active-color="red" name="{{index}}" value="{{item.isSelect}}" data-event-opts="{{[['^change',[['itemChange']]],['^input',[['__set_model',['$0','isSelect','$event',[]],[[['shoppingCard.list','',index]]]]]]]}}" bind:change="__e" bind:input="__e" class="data-v-07f5d349" bind:__l="__l"></u-checkbox></view><image class="cart-shoppingcard-goods-image data-v-07f5d349" src="{{item.products.images&&item.products.images!='null'?item.products.images+'?x-oss-process=image/resize,m_lfit,h_320,w_240':'/static/images/common/empty-banner.png'}}" mode="widthFix"></image><view class="cart-shoppingcard-goods-body data-v-07f5d349"><block wx:if="{{item.products.spesDesc}}"><view class="cart-shoppingcard-goods-title data-v-07f5d349">{{item.products.spesDesc}}</view></block><block wx:if="{{item.products.promotionList}}"><view class="cart-shoppingcard-goods-title data-v-07f5d349"><block wx:for="{{item.products.promotionList}}" wx:for-item="v" wx:for-index="k" wx:key="k"><text class="{{['cart-badge','cart-bg-gray','data-v-07f5d349',v.type!==2?'bg-gray':'']}}">{{''+v.name}}</text></block></view></block><view class="cart-space-between data-v-07f5d349" style="margin-top:20rpx;"><text class="cart-shoppingcard-goods-price data-v-07f5d349">{{"￥"+item.products.price}}</text><view class="cart-shoppingcard-goods-number data-v-07f5d349"><u-number-box vue-id="{{'1275d246-8-'+index}}" disabled="{{false}}" index="{{index}}" step="{{1}}" min="{{1}}" max="{{item.products.stock}}" value="{{item.nums}}" data-event-opts="{{[['^change',[['numberChange']]],['^input',[['__set_model',['$0','nums','$event',[]],[[['shoppingCard.list','',index]]]]]]]}}" bind:change="__e" bind:input="__e" class="data-v-07f5d349" bind:__l="__l"></u-number-box></view></view><view class="cart-space-between data-v-07f5d349"><block wx:if="{{item.stockNo}}"><text class="cart-shoppingcard-remove cart-icons icon-msg data-v-07f5d349">库存不足</text></block><block wx:else><block wx:if="{{item.stockTension}}"><text class="cart-shoppingcard-remove cart-icons icon-msg data-v-07f5d349">库存紧张</text></block><block wx:else><text class="cart-shoppingcard-remove cart-icons data-v-07f5d349"></text></block></block><u-icon class="cart-shoppingcard-remove cart-icons icon-remove data-v-07f5d349" vue-id="{{'1275d246-9-'+index}}" name="trash" size="28" index="{{index}}" label="删除" data-event-opts="{{[['^click',[['removeGoods']]]]}}" bind:click="__e" bind:__l="__l"></u-icon></view></view></view></view></block></block><view class="nobox data-v-07f5d349"></view><block wx:if="{{$root.g1}}"><view class="cart-nowrap cart-flex-vcenter cart-border-t data-v-07f5d349" style="background-color:#FFFFFF;width:100%;position:fixed;left:0;bottom:0;z-index:99;"><view class="cart-shoppingcard-checkbtn cart-nowrap cart-flex-vcenter data-v-07f5d349"><u-checkbox vue-id="1275d246-10" active-color="red" value="{{selectAll}}" data-event-opts="{{[['^change',[['itemChangeAll']]],['^input',[['__set_model',['','selectAll','$event',[]]]]]]}}" bind:change="__e" bind:input="__e" class="data-v-07f5d349" bind:__l="__l" vue-slots="{{['default']}}">{{selectText}}</u-checkbox></view><view class="cart-shoppingcard-count cart-nowrap cart-flex-vcenter data-v-07f5d349"><text class="cart-text data-v-07f5d349">合计 :</text><text class="u-font-26 coreshop-text-red data-v-07f5d349">{{"￥"+totalprice}}</text></view><view data-event-opts="{{[['tap',[['checkout',['$event']]]]]}}" class="cart-shoppingcard-checkout cart-coreshop-bg-red data-v-07f5d349" bindtap="__e">立即结算</view></view></block><coreshop-login-modal vue-id="1275d246-11" class="data-v-07f5d349" bind:__l="__l"></coreshop-login-modal></view>